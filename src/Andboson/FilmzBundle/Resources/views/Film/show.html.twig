{% extends '::base.html.twig' %}

{% block body -%}
    <h1>Film</h1>

    <div style="float: left;"><img src="{{ entity.poster }}" alt=""/></div>
    <table class="record_properties">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ entity.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ entity.name }}</td>
            </tr>
            <tr>
                <th>Director</th>
                <td>{{ entity.director }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ entity.description }}</td>
            </tr>
            <tr>
                <th>Rating</th>
                <td>{{ entity.rating }}</td>
            </tr>
            <tr>
                <th>Releasedate</th>
                <td>{{ entity.releaseDate|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>Link</th>
                <td>{{ entity.link }}</td>
            </tr>
            <tr>
                <th>Category</th>
                <td><a href="{{ path('films_category', {'id': entity.category.getId()}) }}">{{entity.category}}</a></td>
            </tr>
            <tr>
                <th>Genre</th>
                <td>
                    {% for genre in entity.genre %}
                        <a href="{{ path('films_category_genre', {'id': entity.category.getId(), 'gid': genre.getId() }) }}">{{genre.getName()}}</a>
                    {% endfor %}
                    </td>
            </tr>
        </tbody>
    </table>
    {% if comments %}
    <table class="records_list">
        <thead>
        <tr>
            <th>Id</th>
            <th>Authorname</th>
            <th>Authoremail</th>
            <th>Authorip</th>
            <th>Dateadded</th>
            <th>Message</th>
            <th>Rate</th>
        </tr>
        </thead>
        <tbody>
        {% for comment in comments %}
            <tr>
                <td><a href="{{ path('comment_show', { 'id': comment.id }) }}">{{ comment.id }}</a></td>
                <td>{{ comment.authorName }}</td>
                <td>{{ comment.authorEmail }}</td>
                <td>{{ comment.authorIp }}</td>
                <td>{% if comment.dateAdded %}{{ comment.dateAdded|date('Y-m-d H:i:s') }}{% endif %}</td>
                <td>{{ comment.message }}</td>
                <td>{{ comment.rate }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {% endif %}
    <h1>Comments creation</h1>

    {{ form(formComment) }}
        <ul class="record_actions">
    <li>
        <a href="{{ path('films') }}">
            Back to the list
        </a>
    </li>
    <li>
        <a href="{{ path('films_edit', { 'id': entity.id }) }}">
            Edit
        </a>
    </li>
    <li>{{ form(delete_form) }}</li>
</ul>
{% endblock %}
